<!DOCTYPE html>
<html>
   <head>
      <title>Практика</title>
      <meta charset="utf-8" />
   </head>
   <body>
   	<script>"use strict";
/*
		Задание №3. Функциональное наследование
	Создайте конструктор объектов Геометрическая фигура, определите 
	в нем приватные свойства для задания центра фигуры. Для доступа 
	к этим свойствам определите необходимые метод/методы.
	На основе этого конструктора создайте два новых (наследники) – Прямоугольник и Круг. 
	В этих конструкторах определите особые приватные свойства. (Например, длина диагонали 
	для Квадрата и радиус для Круга). В каждый из конструкторов добавьте 
	публичный метод info(), который выводит на экран всю доступную информацию о фигуре.

*/ 

	function Figure (){		
		var _x = 0;											//хранение координат центр фигуры
		var _y = 0;			
	   this.x = function (width) {							//задаем ширину фигуры (getSet)
			if (width === undefined) return _x;
			if (typeof (width) === "number") { _x = width / 2; }
			else return "not a number!";
		};
	   this.y = function (height) {						  //задаем высоту фигуры (getSet)
			if (height === undefined) return _y;
			if (typeof (height) === "number") { _y = height / 2; }
			else return "not a number!";
		};
	}
	
	function Rectangle () {									//констр. для прямоугольника
		Figure.call(this);
		var self = this;
		var _diagonal = "диагональ";
  //	var _diagValue = Math.sqrt (Math.pow(self.x(), 2) + Math.pow(self.y(), 2)) * 2;        // <= ВОПРОС!  Почему не работает при записи в переменную? а при оборачивании ф-й все ок.
		var _diagValue = function () {														
			      return Math.sqrt (Math.pow(self.x(), 2) + Math.pow(self.y(), 2)) * 2;        //получение диагонали
		};
	   this.info = function() {					
			console.log(
				"Прямоугольник:\n " + 
				"коорд. центра:\n   x = " + self.x() 
				+ ",\n   y = " + self.y() + ",\n " 
				+ _diagonal + " = " + _diagValue()
			);							
		}	
	}
	function Circle () {								//констр. для круга
		Figure.call(this);
		var self = this;
		var _radius = "радиус";
		var _radiusValue = self.x;
	   this.info = function() {
			console.log(
				"Круг:\n " + 
				"коорд. центра:\n   x = " + self.x() 
				+ ",\n   y = " + self.x() + ",\n " 
				+ _radius + " = " + _radiusValue()
			);
		}
	}
	
	 var r = new Rectangle();					//новые объекты
	 r.x(3);
	 r.y(4);
	 r.info();
	
	 var c = new Circle();
	 c.x(6);
	 c.y(8);
	 c.info();
	
	
	
	
	
	
	
         
    </script>
	
   </body>
</html>
